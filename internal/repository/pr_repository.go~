package repository

import (
	"context"
	"errors"
	"pr-reviewer/internal/models"
)

var (
	ErrPRNotFound       = errors.New("pull request not found")
	ErrReviewerNotFound = errors.New("reviewer not found")
	ErrPRAlreadyMerged  = errors.New("pull request already merged")
)

type PRRepository interface {
	Create(ctx context.Context, pr *models.PullRequest) error
	GetByID(ctx context.Context, id string) (*models.PullRequest, error)
	ListByReviewer(ctx context.Context, reviewerID string) ([]models.PullRequest, error)
	SetMerged(ctx context.Context, id string) error
	AddReviewer(ctx context.Context, prID string, reviewerID string) error
	RemoveReviewer(ctx context.Context, prID string, reviewerID string) error
	ListReviewers(ctx context.Context, prID string) ([]models.User, error)
}